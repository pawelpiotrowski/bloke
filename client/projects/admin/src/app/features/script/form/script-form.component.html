<mat-card appearance="outlined" *ngIf="entity" class="script-form">
  <form [formGroup]="entityForm" (keydown.enter)="entityFormSubmit($event)">
    <mat-card-header>
      <mat-card-title>
        <mat-form-field appearance="outline" class="script-form__field">
          <mat-label>Enter name</mat-label>
          <input
            type="text"
            placeholder="Script name"
            matInput
            formControlName="name"
            required
          />
          <mat-error *ngIf="entityFormCtrl['name']; errors"
            >Name is required</mat-error
          >
        </mat-form-field>
      </mat-card-title>
      <mat-card-subtitle>JavasScript:</mat-card-subtitle>
    </mat-card-header>
  </form>
  <mat-card-content class="script-form__card-content">
    <shared-code-edit
      [language]="'javascript'"
      (codeUpdate)="codeUpdateHandler($event)"
      [code]="entity.formatted"
    ></shared-code-edit>
  </mat-card-content>
</mat-card>
